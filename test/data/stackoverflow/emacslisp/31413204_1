(defun match-positions (regexp str)
  (let ((res '()) (pos 0))
    (while (and (string-match regexp str pos)
        (< pos (length str) ) )
      (let ((m (match-end 0)))
    (push m res)
    (setq pos m)
    ) )
    (nreverse res)
    )
  )
(match-positions "\'.*?\'\\|[-0-9.A-Za-z]+" str)
; (1 23 31 37 43 51 63 71 78 92 112 123)